<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <form action="">
        <label for="email">Email</label>
        <input type="email" id="email">
        <br>
        <label for="password">Password</label>
        <input type="password" id="password">
        <br>
        <input type="button" id="sendRegCredentials" value="Register">
        <input type="button" id="sendSigCredentials" value="Sign In">
    </form>
    <script type="module">

        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";
        
        //firebase konfig

        const firebaseConfig = {
            apiKey: "AIzaSyAMb_jhUU4ppi2waZA_X4Bo_Oa9OQFdj7k",
            authDomain: "fir-authentication-e59fc.firebaseapp.com",
            projectId: "fir-authentication-e59fc",
            storageBucket: "fir-authentication-e59fc.appspot.com",
            messagingSenderId: "1935126249",
            appId: "1:1935126249:web:865cd363dd23c088b8ca78"
        };

        //Firebase initialization

        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);

        //Credentials get for registration
        const registerButton = document.getElementById("sendRegCredentials")
        registerButton.addEventListener("click", function(){
     
            var email=document.getElementById("email").value;
            var password=document.getElementById("password").value;
            

            //User registration

            createUserWithEmailAndPassword(auth, email, password).then(function (userCredential) {
            // Sikeres regisztráció
            var user = userCredential.user;
            console.log('Regisztráció sikeres:', user);
            })
            .catch(function (error) {
            // Hiba történt
            var errorCode = error.code;
            var errorMessage = error.message;
            console.error('Regisztrációs hiba:', errorCode, errorMessage);
            });
        });
        const signInButton = document.getElementById("sendSigCredentials")
        signInButton.addEventListener("click", function(){
     
            var email=document.getElementById("email").value;
            var password=document.getElementById("password").value;

            signInWithEmailAndPassword(auth, email, password).then(function (userCredential) {
            // Sikeres regisztráció
            var user = userCredential.user;
            console.log('Bejelenetkezés sikeres:', user);
            })
            .catch(function (error) {
            // Hiba történt
            var errorCode = error.code;
            var errorMessage = error.message;
            console.error('Bejelentkezés hiba:', errorCode, errorMessage);
            });
        });
    </script>
</body>
</html>